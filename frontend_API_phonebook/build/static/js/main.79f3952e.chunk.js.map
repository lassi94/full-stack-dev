{"version":3,"sources":["components/Header.js","components/Form.js","components/Item.js","components/List.js","components/Filter.js","services/phonebook.js","components/Message.js","App.js","index.js"],"names":["Header","value","className","Form","addPerson","handler","onSubmit","name","onChange","type","Item","number","deletePer","id","console","log","onClick","List","itemArray","array","forEach","element","push","key","Filter","filterHandler","placeholder","url","axios","get","then","response","data","obj","put","post","delete","status","Message","error","includes","App","useState","per","setPer","newName","setNewName","newNum","setNewNum","show","setShow","errorMsg","setError","useEffect","personService","respPer","length","e","target","persons","filter","person","preventDefault","check","num","property","upPer","concat","setTimeout","catch","window","confirm","ar","prop","objChange","crPer","map","delePer","getPer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.79f3952e.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Header = ({value}) =>{\n\n    return(\n        <div className=\"header-div\">\n            <h1 className=\"header\">{value}</h1>\n        </div>\n    )\n}\n\nexport default Header","import React from 'react'\n\nconst Form = ({addPerson, handler}) =>{\n    return(\n        <div className=\"form\">\n            <form onSubmit={addPerson}>\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>Name:</td>\n                            <td><input name=\"email\" onChange={handler}></input></td>\n                        </tr>\n                        <tr>\n                            <td>Number:</td>\n                            <td><input name=\"num\" onChange={handler}></input></td>\n                        </tr>\n                        <tr>\n                            <td><button type=\"submit\">Save</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </form>\n        </div>\n        \n    )\n}\n\nexport default Form","import React from 'react'\n\n\nconst Item = ({name, number, deletePer, id}) =>{\n\n    console.log(id)\n\n    console.log(number)\n\n    console.log(\"delete\", deletePer)\n\n    return(\n        <>\n            <li className=\"item\">{name} {number} <button onClick={()=>deletePer(id)}>delete</button></li>\n        </>\n    )\n}\n\n\nexport default Item","import React from 'react'\nimport Item from './Item'\n\n\nconst List = ({itemArray, deletePer}) =>{\n\n    //console.log(itemArray)\n\n    const array =Â []\n\n\n    itemArray.forEach(element => {\n        array.push(<Item name={element.name} number={element.number} key={element.id} id={element.id} deletePer={deletePer} />)\n    });\n\n    return(\n        <div className=\"list\">\n            <ul>\n                {array}\n            </ul>\n        </div>\n    )\n}\n\nexport default List","import React from 'react'\n\nconst Filter = ({filterHandler}) =>{\n    return(\n        <div className=\"filter\">\n            <p>Filter with:</p>\n            <input name=\"filter\" placeholder=\"Filter\" onChange={filterHandler}></input>\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n\n\nconst url = 'http://localhost:3001/api/persons'\n\n\nconst getAll = () =>{\n    const all = axios.get(url)\n    return all.then(response => response.data)\n}\n\nconst update = (id,obj) =>{\n    const up = axios.put(`${url}/${id}`, obj)\n    return up.then(response => response.data)\n\n}\n\nconst create = (obj) =>{\n    const crea = axios.post(url, obj)\n    return crea.then(response => response.data)\n}\n\nconst dele = (id) => {\n    const del = axios.delete(`${url}/${id}`)\n    return del.then(response => \n        response.status)\n}\n\nexport default {\n    getAll, update, create, dele\n}","import React from 'react'\n\n\nconst Message = ({error}) => {\n\n    if(error===null){\n        return null\n    }else if(error.includes('not')){\n        return(\n            <div className=\"errorMsg\">\n                <div className=\"msg-content\">\n                    <p>{error}</p>\n                </div>\n            </div>\n        )\n    }else{\n        return(\n            <div className=\"SuccessMsg\">\n                <div className=\"msg-content\">\n                    <p>{error}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Message","import React, {useState, useEffect} from 'react'\nimport Header from './components/Header'\nimport Form from './components/Form'\nimport List from './components/List'\nimport Filter from './components/Filter'\nimport personService from './services/phonebook'\nimport Message from './components/Message';\n\n\nconst App = () =>{\n    \n\n    const [per, setPer] = useState([])\n\n    const [newName, setNewName] = useState('')\n    const [newNum, setNewNum] = useState('')\n\n    const [show, setShow] = useState(per)\n    const [errorMsg, setError] = useState(null)\n\n    useEffect(()=>{\n        console.log('effect')\n        personService.getAll().then(respPer => {\n            console.log(respPer)\n            setPer(respPer)\n            setShow(respPer)\n        })\n    }, [])\n\n    console.log(per.length)\n\n    const handler = (e) =>{\n\n        console.log(e.target.value)\n        console.log(e.target.name)\n\n        const value = e.target.name === \"email\" ? setNewName(e.target.value) : setNewNum(e.target.value)\n        \n    }\n\n    const filterHandler = (e) =>{\n      \n        if(e.target.name === \"filter\"){\n\n            console.log(\"Filter value\", e.target.value)\n\n            const persons = per.filter(person => person.name.includes(e.target.value))\n\n            setShow(persons)\n\n            console.log(show)\n    \n        }\n\n    }\n\n    const addPerson = (e) =>{\n\n        e.preventDefault()\n\n        //check if person already exists in the phonebook\n\n        const check = {\n            name: newName,\n            num: newNum\n        }\n\n        console.log(check)\n            \n        if(per.filter(property => property.name === newName).length === 0){\n               \n            const obj = {\n                id: per.length+1,\n                name: newName,\n                num: newNum\n            }\n\n            personService.create(obj).then(upPer => {\n\n                console.log(upPer)\n                setPer(per.concat(upPer))\n                setShow(per.concat(upPer))\n                setError(\"Person added successfully!\")\n                setTimeout(()=>{\n                    setError(null)\n                }, 3000)\n\n            }).catch(error =>{\n                setError(`Add was not successfull! Error '${error}'`)\n                setTimeout(()=>{\n                    setError(null)\n                }, 3000)\n            })\n                \n            \n            \n        }else{\n            const result = window.confirm(newName + ' is already added to the phonebook.Do you want to update information?')\n\n            if(result){\n\n                const ar = per.filter(prop => prop.name === newName)\n                const objChange = {\n                    ...ar[0],\n                    num: newNum\n                }\n\n                console.log(objChange)\n                \n                personService.update(ar[0].id, objChange).then(crPer => {\n                    setShow(per.map(person => person.id === ar[0].id ? crPer : person))\n                    setError(\"Update was successfull!\")\n                    setTimeout(()=>{\n                        setError(null)\n                    }, 3000)\n                }).catch(error =>{\n                    setError(`Update was not successfull! Error '${error}'`)\n                    setTimeout(()=>{\n                        setError(null)\n                    }, 3000)\n                })\n             \n                \n            }\n            \n        }\n\n    }\n\n    const deletePer = (id) =>{\n        console.log(id)\n\n        const result = window.confirm(\"Are you sure?\")\n\n        if(result){\n            personService.dele(id).then(delePer => {\n                console.log('Person deleted!', delePer)\n                console.log(delePer)\n    \n                if(delePer === 200){\n                    personService.getAll().then(getPer => {\n                        console.log('Entered')\n                        setPer(getPer)\n                        setShow(getPer)\n                        setError(\"Deletion was successfull!\")\n                        setTimeout(()=>{\n                            setError(null)\n                        }, 2000)\n                    }).catch(error => {\n                        setError(`Deletion was not succesfull! Error: '${error}'`)\n                        setTimeout(()=>{\n                            setError(null)\n                        }, 3000)\n                    })\n                }\n                \n            }).catch(error =>{\n                setError(`Deletion was not succesfull! Error: '${error}'`)\n                setTimeout(()=>{\n                    setError(null)\n                }, 3000)\n            })\n        }\n\n    }\n\n    return(\n        <div className=\"App\">\n            <Header value=\"Phonebook\"/>\n            <Message error={errorMsg}/>\n            <Header value=\"Filter\" />\n            <Filter filterHandler={filterHandler}/>\n            <Header value=\"Add new Person\"/>\n            <Form handler={handler} addPerson={addPerson}/>\n            <Header value=\"Numbers\"/>\n            <List itemArray={show} deletePer={deletePer}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}
{"version":3,"sources":["components/Header.js","components/Form.js","components/Item.js","components/List.js","components/Filter.js","services/phonebook.js","components/Message.js","App.js","index.js"],"names":["Header","value","className","Form","addPerson","handler","onSubmit","name","onChange","type","Item","number","deletePer","id","console","log","undefined","onClick","List","itemArray","array","forEach","element","push","key","Filter","filterHandler","placeholder","url","axios","get","then","response","data","obj","up","put","crea","post","delete","status","Message","error","includes","App","useState","per","setPer","newName","setNewName","newNum","setNewNum","show","setShow","errorMsg","setError","useEffect","personService","respPer","length","e","target","persons","filter","person","preventDefault","check","num","property","upPer","concat","setTimeout","catch","window","confirm","ar","prop","objChange","crPer","map","delePer","getPer","ReactDOM","render","document","getElementById"],"mappings":"mQAYeA,EATA,SAAC,GAAY,IAAXC,EAAU,EAAVA,MAEb,OACI,yBAAKC,UAAU,cACX,wBAAIA,UAAU,UAAUD,KCoBrBE,EAzBF,SAAC,GAAyB,IAAxBC,EAAuB,EAAvBA,UAAWC,EAAY,EAAZA,QACtB,OACI,yBAAKH,UAAU,QACX,0BAAMI,SAAUF,GACZ,+BACI,+BACI,4BACI,qCACA,4BAAI,2BAAOG,KAAK,QAAQC,SAAUH,MAEtC,4BACI,uCACA,4BAAI,2BAAOE,KAAK,MAAMC,SAAUH,MAEpC,4BACI,4BAAI,4BAAQI,KAAK,UAAb,eCWjBC,EAzBF,SAAC,GAAkC,IAAjCH,EAAgC,EAAhCA,KAAMI,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,UAAWC,EAAO,EAAPA,GAQpC,OANAC,QAAQC,IAAI,KAAMF,GAClBC,QAAQC,IAAI,OAAQR,GACpBO,QAAQC,IAAI,SAAUJ,GAEtBG,QAAQC,IAAI,SAAUH,QAEZI,IAAPH,EAEK,qCAMA,oCACI,wBAAIX,UAAU,QAAQK,EAAtB,IAA6BI,EAA7B,IAAqC,4BAAQM,QAAS,kBAAIL,EAAUC,KAA/B,aCGtCK,EAnBF,SAAC,GAA2B,IAA1BC,EAAyB,EAAzBA,UAAWP,EAAc,EAAdA,UAEtBE,QAAQC,IAAII,GAEZ,IAAMC,EAAQ,GAMd,OAJAD,EAAUE,QAAQ,SAAAC,GACdF,EAAMG,KAAK,kBAAC,EAAD,CAAMhB,KAAMe,EAAQf,KAAMI,OAAQW,EAAQX,OAAQa,IAAKF,EAAQT,GAAIA,GAAIS,EAAQT,GAAID,UAAWA,OAIzG,yBAAKV,UAAU,QACX,4BACKkB,KCNFK,EATA,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,cACb,OACI,yBAAKxB,UAAU,UACX,2CACA,2BAAOK,KAAK,SAASoB,YAAY,SAASnB,SAAUkB,M,gBCH1DE,EAAM,oCAqCG,EAlCA,WAEX,OADYC,IAAMC,IAAIF,GACXG,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAgC1B,EA7BA,SAACpB,EAAGqB,GACf,IAAMC,EAAKN,IAAMO,IAAN,UAAaR,EAAb,YAAoBf,GAAMqB,GAErC,OADApB,QAAQC,IAAI,SAAUoB,GACfA,EAAGJ,KAAK,SAAAC,GAIX,OAFAlB,QAAQC,IAAI,SAAUiB,EAASC,MAExBD,EAASC,QAsBT,EAjBA,SAACC,GACZ,IAAMG,EAAOR,IAAMS,KAAKV,EAAKM,GAE7B,OADApB,QAAQC,IAAI,SAAUsB,GACfA,EAAKN,KAAK,SAAAC,GAIb,OAFAlB,QAAQC,IAAI,gBAAiBiB,EAASC,MAE/BD,EAASC,QAUT,EANF,SAACpB,GAEV,OADYgB,IAAMU,OAAN,UAAgBX,EAAhB,YAAuBf,IACxBkB,KAAK,SAAAC,GAAQ,OACpBA,EAASQ,UCXFC,EAvBC,SAAC,GAAa,IAAZC,EAAW,EAAXA,MAEd,OAAW,OAARA,EACQ,KACFA,EAAMC,SAAS,OAEhB,yBAAKzC,UAAU,YACX,yBAAKA,UAAU,eACX,2BAAIwC,KAMZ,yBAAKxC,UAAU,cACX,yBAAKA,UAAU,eACX,2BAAIwC,M,kOCTxB,IA+KeE,EA/KH,WAAM,IAAD,EAGSC,mBAAS,IAHlB,mBAGNC,EAHM,KAGDC,EAHC,OAKiBF,mBAAS,IAL1B,mBAKNG,EALM,KAKGC,EALH,OAMeJ,mBAAS,IANxB,mBAMNK,EANM,KAMEC,EANF,OAQWN,mBAASC,GARpB,mBAQNM,EARM,KAQAC,EARA,OASgBR,mBAAS,MATzB,mBASNS,EATM,KASIC,EATJ,KAYbC,oBAAU,WACF1C,QAAQC,IAAI,UACZ0C,IAAuB1B,KAAK,SAAA2B,GACxB5C,QAAQC,IAAI2C,GACZX,EAAOW,GACPL,EAAQK,MAEjB,IAEH5C,QAAQC,IAAI+B,EAAIa,QA4IhB,OACI,yBAAKzD,UAAU,OACX,kBAAC,EAAD,CAAQD,MAAM,cACd,kBAAC,EAAD,CAASyC,MAAOY,IAChB,kBAAC,EAAD,CAAQrD,MAAM,WACd,kBAAC,EAAD,CAAQyB,cAtIM,SAACkC,GAEnB,GAAqB,WAAlBA,EAAEC,OAAOtD,KAAkB,CAE1BO,QAAQC,IAAI,eAAgB6C,EAAEC,OAAO5D,OAErC,IAAM6D,EAAUhB,EAAIiB,OAAO,SAAAC,GAAM,OAAIA,EAAOzD,KAAKoC,SAASiB,EAAEC,OAAO5D,SAEnEoD,EAAQS,GAERhD,QAAQC,IAAIqC,OA6HZ,kBAAC,EAAD,CAAQnD,MAAM,mBACd,kBAAC,EAAD,CAAMI,QAjJE,SAACuD,GAEb9C,QAAQC,IAAI6C,EAAEC,OAAO5D,OACrBa,QAAQC,IAAI6C,EAAEC,OAAOtD,MAEW,UAAlBqD,EAAEC,OAAOtD,KAAmB0C,EAAWW,EAAEC,OAAO5D,OAASkD,EAAUS,EAAEC,OAAO5D,QA4I9DG,UAxHd,SAACwD,GAEfA,EAAEK,iBAIF,IAAMC,EAAQ,CACV3D,KAAMyC,EACNmB,IAAKjB,GAKT,GAFApC,QAAQC,IAAImD,GAEoD,IAA7DpB,EAAIiB,OAAO,SAAAK,GAAQ,OAAIA,EAAS7D,OAASyC,IAASW,OAAa,CAE9D,IAAMzB,EAAM,CACRrB,GAAIiC,EAAIa,OAAO,EACfpD,KAAMyC,EACNmB,IAAKjB,GAGTO,EAAqBvB,GAAKH,KAAK,SAAAsC,GAC3BtB,EAAOD,EAAIwB,OAAOD,IAClBhB,EAAQP,EAAIwB,OAAOD,IACnBd,EAAS,8BACTgB,WAAW,WACPhB,EAAS,OACV,OAEJiB,MAAM,SAAA9B,GACLa,EAAS,mCAAD,OAAoCb,EAAMV,SAASC,KAAKS,MAAxD,MACR5B,QAAQC,IAAI,QAAS2B,EAAMV,SAASC,KAAKS,OACzC6B,WAAW,WACPhB,EAAS,OACV,WAKN,CAGD,GAFekB,OAAOC,QAAQ1B,EAAU,yEAE9B,CAEN,IAAM2B,EAAK7B,EAAIiB,OAAO,SAAAa,GAAI,OAAIA,EAAKrE,OAASyC,IACtC6B,E,qVAAS,IACRF,EAAG,GADK,CAEXR,IAAKjB,IAGTpC,QAAQC,IAAI8D,GAEZpB,EAAqBkB,EAAG,GAAG9D,GAAIgE,GAAW9C,KAAK,SAAA+C,GAC3ChE,QAAQC,IAAI,uBAAwB+D,GACpChE,QAAQC,IAAI,YAAa4D,EAAG,GAAG9D,IAE/BwC,EAAQP,EAAIiC,IAAI,SAAAf,GAAM,OAAIA,EAAOnD,KAAO8D,EAAG,GAAG9D,GAAKiE,EAAQd,KAE3DlD,QAAQC,IAAI,kBAAmBqC,GAC/BG,EAAS,2BACTgB,WAAW,WACPhB,EAAS,OACV,OACJiB,MAAM,SAAA9B,GACLa,EAAS,sCAAD,OAAuCb,EAAvC,MACR6B,WAAW,WACPhB,EAAS,OACV,YAsDX,kBAAC,EAAD,CAAQtD,MAAM,YACd,kBAAC,EAAD,CAAMkB,UAAWiC,EAAMxC,UA9Cb,SAACC,GACfC,QAAQC,IAAIF,GAEG4D,OAAOC,QAAQ,kBAG1BjB,EAAmB5C,GAAIkB,KAAK,SAAAiD,GACxBlE,QAAQC,IAAI,kBAAmBiE,GAC/BlE,QAAQC,IAAIiE,GAEG,MAAZA,GACCvB,IAAuB1B,KAAK,SAAAkD,GACxBnE,QAAQC,IAAI,WACZgC,EAAOkC,GACP5B,EAAQ4B,GACR1B,EAAS,6BACTgB,WAAW,WACPhB,EAAS,OACV,OACJiB,MAAM,SAAA9B,GACLa,EAAS,wCAAD,OAAyCb,EAAzC,MACR6B,WAAW,WACPhB,EAAS,OACV,SAIZiB,MAAM,SAAA9B,GACLa,EAAS,wCAAD,OAAyCb,EAAzC,MACR6B,WAAW,WACPhB,EAAS,OACV,YC/JnB2B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.96ffe802.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Header = ({value}) =>{\n\n    return(\n        <div className=\"header-div\">\n            <h1 className=\"header\">{value}</h1>\n        </div>\n    )\n}\n\nexport default Header","import React from 'react'\n\nconst Form = ({addPerson, handler}) =>{\n    return(\n        <div className=\"form\">\n            <form onSubmit={addPerson}>\n                <table>\n                    <tbody>\n                        <tr>\n                            <td>Name:</td>\n                            <td><input name=\"email\" onChange={handler}></input></td>\n                        </tr>\n                        <tr>\n                            <td>Number:</td>\n                            <td><input name=\"num\" onChange={handler}></input></td>\n                        </tr>\n                        <tr>\n                            <td><button type=\"submit\">Save</button></td>\n                        </tr>\n                    </tbody>\n                </table>\n            </form>\n        </div>\n        \n    )\n}\n\nexport default Form","import React from 'react'\n\n\nconst Item = ({name, number, deletePer, id}) =>{\n\n    console.log(\"id\", id)\n    console.log(\"name\", name)\n    console.log(\"number\", number)\n\n    console.log(\"delete\", deletePer)\n\n    if(id === undefined){\n        return(\n            <>\n\n            </>\n        )\n    }else{\n        return(\n            <>\n                <li className=\"item\">{name} {number} <button onClick={()=>deletePer(id)}>delete</button></li>\n            </>\n        )\n    }\n    \n}\n\n\nexport default Item","import React from 'react'\nimport Item from './Item'\n\n\nconst List = ({itemArray, deletePer}) =>{\n\n    console.log(itemArray)\n\n    const array =Â []\n\n    itemArray.forEach(element => {\n        array.push(<Item name={element.name} number={element.number} key={element.id} id={element.id} deletePer={deletePer} />)\n    });\n\n    return(\n        <div className=\"list\">\n            <ul>\n                {array}\n            </ul>\n        </div>\n    )   \n}\n\nexport default List","import React from 'react'\n\nconst Filter = ({filterHandler}) =>{\n    return(\n        <div className=\"filter\">\n            <p>Filter with:</p>\n            <input name=\"filter\" placeholder=\"Filter\" onChange={filterHandler}></input>\n        </div>\n    )\n}\n\nexport default Filter","import axios from 'axios'\n\n\nconst url = 'http://localhost:3001/api/persons'\n\n\nconst getAll = () =>{\n    const all = axios.get(url)\n    return all.then(response => response.data)\n}\n\nconst update = (id,obj) =>{\n    const up = axios.put(`${url}/${id}`, obj)\n    console.log(\"update\", up)\n    return up.then(response => {\n\n        console.log(\"update\", response.data)\n\n        return response.data\n    })\n\n}\n\nconst create = (obj) =>{\n    const crea = axios.post(url, obj)\n    console.log(\"create\", crea)\n    return crea.then(response => {\n\n        console.log(\"response data\", response.data)\n\n        return response.data\n    })\n}\n\nconst dele = (id) => {\n    const del = axios.delete(`${url}/${id}`)\n    return del.then(response => \n        response.status)\n}\n\nexport default {\n    getAll, update, create, dele\n}","import React from 'react'\n\n\nconst Message = ({error}) => {\n\n    if(error===null){\n        return null\n    }else if(error.includes('not')){\n        return(\n            <div className=\"errorMsg\">\n                <div className=\"msg-content\">\n                    <p>{error}</p>\n                </div>\n            </div>\n        )\n    }else{\n        return(\n            <div className=\"SuccessMsg\">\n                <div className=\"msg-content\">\n                    <p>{error}</p>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Message","import React, {useState, useEffect} from 'react'\nimport Header from './components/Header'\nimport Form from './components/Form'\nimport List from './components/List'\nimport Filter from './components/Filter'\nimport personService from './services/phonebook'\nimport Message from './components/Message';\nimport { type } from 'os'\n\n\nconst App = () =>{\n    \n\n    const [per, setPer] = useState([])\n\n    const [newName, setNewName] = useState('')\n    const [newNum, setNewNum] = useState('')\n\n    const [show, setShow] = useState(per)\n    const [errorMsg, setError] = useState(null)\n\n    \n    useEffect(()=>{\n            console.log('effect')\n            personService.getAll().then(respPer => {\n                console.log(respPer)\n                setPer(respPer)\n                setShow(respPer)\n            })\n    }, [])\n   \n    console.log(per.length)\n\n    const handler = (e) =>{\n\n        console.log(e.target.value)\n        console.log(e.target.name)\n\n        const value = e.target.name === \"email\" ? setNewName(e.target.value) : setNewNum(e.target.value)\n        \n    }\n\n    const filterHandler = (e) =>{\n      \n        if(e.target.name === \"filter\"){\n\n            console.log(\"Filter value\", e.target.value)\n\n            const persons = per.filter(person => person.name.includes(e.target.value))\n\n            setShow(persons)\n\n            console.log(show)\n    \n        }\n\n    }\n\n    const addPerson = (e) =>{\n\n        e.preventDefault()\n\n        //check if person already exists in the phonebook\n\n        const check = {\n            name: newName,\n            num: newNum\n        }\n\n        console.log(check)\n            \n        if(per.filter(property => property.name === newName).length === 0){\n               \n            const obj = {\n                id: per.length+1,\n                name: newName,\n                num: newNum\n            }\n\n            personService.create(obj).then(upPer => {\n                setPer(per.concat(upPer))\n                setShow(per.concat(upPer))\n                setError(\"Person added successfully!\")\n                setTimeout(()=>{\n                    setError(null)\n                }, 3000)\n\n            }).catch(error =>{\n                setError(`Add was not successfull! Error '${error.response.data.error}'`)\n                console.log(\"Error\", error.response.data.error)\n                setTimeout(()=>{\n                    setError(null)\n                }, 3000)\n            })\n                \n            \n            \n        }else{\n            const result = window.confirm(newName + ' is already added to the phonebook.Do you want to update information?')\n\n            if(result){\n\n                const ar = per.filter(prop => prop.name === newName)\n                const objChange = {\n                    ...ar[0],\n                    num: newNum\n                }\n\n                console.log(objChange)\n                \n                personService.update(ar[0].id, objChange).then(crPer => {\n                    console.log(\"object to be updated\", crPer)\n                    console.log(\"idddddddd\", ar[0].id)\n            \n                    setShow(per.map(person => person.id === ar[0].id ? crPer : person))\n\n                    console.log(\"PERRRRRRRRRRRRR\", show)\n                    setError(\"Update was successfull!\")\n                    setTimeout(()=>{\n                        setError(null)\n                    }, 3000)\n                }).catch(error =>{\n                    setError(`Update was not successfull! Error '${error}'`)\n                    setTimeout(()=>{\n                        setError(null)\n                    }, 3000)\n                })\n             \n            }\n            \n        }\n\n    }\n\n    const deletePer = (id) =>{\n        console.log(id)\n\n        const result = window.confirm(\"Are you sure?\")\n\n        if(result){\n            personService.dele(id).then(delePer => {\n                console.log('Person deleted!', delePer)\n                console.log(delePer)\n    \n                if(delePer === 200){\n                    personService.getAll().then(getPer => {\n                        console.log('Entered')\n                        setPer(getPer)\n                        setShow(getPer)\n                        setError(\"Deletion was successfull!\")\n                        setTimeout(()=>{\n                            setError(null)\n                        }, 2000)\n                    }).catch(error => {\n                        setError(`Deletion was not succesfull! Error: '${error}'`)\n                        setTimeout(()=>{\n                            setError(null)\n                        }, 3000)\n                    })\n                }\n                \n            }).catch(error =>{\n                setError(`Deletion was not succesfull! Error: '${error}'`)\n                setTimeout(()=>{\n                    setError(null)\n                }, 3000)\n            })\n        }\n\n    }\n\n    return(\n        <div className=\"App\">\n            <Header value=\"Phonebook\"/>\n            <Message error={errorMsg}/>\n            <Header value=\"Filter\" />\n            <Filter filterHandler={filterHandler}/>\n            <Header value=\"Add new Person\"/>\n            <Form handler={handler} addPerson={addPerson}/>\n            <Header value=\"Numbers\"/>\n            <List itemArray={show} deletePer={deletePer}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}